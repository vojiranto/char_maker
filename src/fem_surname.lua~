-- преобразование мужской фамилии в женскую.
function to_femal_surname (surname)
    local rev_surname = string.reverse(surname)
    
    -- меняем окончание.
    if string.find(rev_surname, "[й][и]") == 1 then
        return string.reverse(string.sub (rev_surname, 5)) .. "ая"
    
    -- оставляем неизменным.
    elseif string.find(rev_surname, "[о]") == 1 then
        return surname
    
    -- добавляем окончание.
    else
        return surname.."а"
end end
